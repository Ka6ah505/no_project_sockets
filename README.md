# no_project_sockets
Проект для игры с quick терминалом

## Настройка окружения
```
@> poetry new <project_name>
@> poetry env use python
@> poetry env info
```
Создали проект -> создали виртуальное окружение -> проверили что ВО создалось

## Настройка терминала под lua клиент
1. Копируем содержимое директории _for_quik_  в корень установленного терминала _Quik_
2. Внастройках терминала отмечаем что запускать будем _lua 5.3_

## Запуск сервера
`
python server.py
`

## Запуск клиента (sandbox)
`
python client.py
`

## Логика сервера
1. Ожидает принять строку следующего типа
status: 1-обезличенная сделка ...
sec_code: код бумаги (SBER - акция сбера обычка)
all_trd_indx: индекс сделки в терминале (все уникальные, инкрементальные для всех бумаг)
all_trd_indx: порядковый номер сделки по инструменту
price: цена сделки (float)
flags: тип сделки (1-покупка, 2-продажа)
qty: кол-во лотов в сделке
datetime(date): календарная дата формата dd.mm.yyyy (прим. 7.11.2023)
datetime(time): время hh.MM.ss.ms
Пример строки: `['1', 'SBER', 'some_index', 'trade_num', '158.5', '1', '3', '7.11.2023', '18:23:03.00']`
2. Если цена больше 268.23, то оправляем клиенту сообщение **I want to buy this ticket**
3. Если получает последовательность `<qstp>\n`, то останавливается
